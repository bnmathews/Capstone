import java.util.Random;
import java.awt.*;
public class Resident
{
    private int money;
    private int timeToStay;
    
    private int minTimeOut;
    private int maxTimeOut;
    
    private int[] roomLocation = new int[2];
    
    private int timeOut = 0; //the time to spend out of the building
    
    private boolean isOut = false;
    private boolean isOnElevator = false;
    private Color color;
    
    // name related stuff
    private String gender;
    private String name;
    private String[] namePrefix = {"Apple","Bil","Kick","Head","Work","Shell","Rod","Care","Hipp","Flipp","Still","Tru","Happ","Fell","Fist"};
    private String[] nameSuffix = {"long","iam","worker","maker","breaker","age","man","mack","back","land","ings","-Bo","ins","-Millar","beef"};
    
    // action related stuff
    private String action;    
    private String[] actions = {"exercising","exercising a demon","praying","playing video games","drinking","dancing",
                                "hanging out","eating","using the bathroom","working out","pondering life's mysteries",
                                "making poor decisions","getting advice","loafing","singing","playing music","writing poetry",
                                "passed out","searching for Bigfoot","playing dead","building a model kit","making cookies","doing squats"};
                                   
    private String[] outActions = {"doing odd jobs","at work","working","performing","doing maintenance work","helping out","stopping a robbery",
                                   "playing pranks on people","on a date","loitering","littering"};
                                   
    private String[] outLocations = {"the club","a local bar","their parents' house","their friend's house","the gym","the coffee house","the comedy club",
                                     "the theatre","the cemetery","the hospital","the office","the public pool","the spookhouse"};
                                     
    public Resident(int minTimeOut, int maxTimeOut, int roomRow, int roomCol)
    {
        if ( (int) (Math.random() * 2) == 1)
            gender = "Mr. ";
        else
        {
            if ( (int) (Math.random() * 2) == 1)
                gender = "Mrs. ";
            else
                gender = "Miss ";
        }
        name = gender + namePrefix[ (int) (Math.random()*namePrefix.length) ] + nameSuffix[ (int) (Math.random()*nameSuffix.length) ];
        
        timeToStay = (int)(Math.random() * 30) + 1;
        
        this.minTimeOut = minTimeOut;
        this.maxTimeOut = maxTimeOut;
        
        roomLocation[0] = roomRow;
        roomLocation[1] = roomCol;
        
        makeColor();
    }
    
    public int[] getRoomLocation()
    {
        return roomLocation;
    }
    
    public void resetTimeOut()
    {
        Random r = new Random();
        timeOut = r.nextInt((maxTimeOut - minTimeOut) + 1) + minTimeOut;
    }
    
    public void decreaseTimeOut()
    {
        timeOut--;
    }
    
    public int getTimeOut()
    {
        return timeOut;
    }
    
    public void makeColor()
    {
        Random r = new Random();
        color = new Color(r.nextFloat(),r.nextFloat(),r.nextFloat());
    }
    
    public Color getColor()
    {
        return color;
    }
    
    public void updateStayTime()
    {
        if (timeToStay > 0 && isOut == false)
        {
            timeToStay--;
        }
    }
    
    public String doAction()
    {
        Double chance = Math.random() * 100; //decides what the resident will do
        if (chance > 50)
        {
            action = "nothing";
        }
        else
        {
            action = "out";
        }
        return action;
    }
    
    public String getActionReadout()
    {
        String readout = name + " is ";
        if ( action.equals("out") )
        {
            //normally the resident can only do regular actions, but being out of the building gives them the ability to use extra actions as well.
            
            String[] actionListToUse;
            if ((int)Math.random()*2 == 0)
            {
                actionListToUse = actions;
            }
            else
            {
                actionListToUse = outActions;
            }
            
            readout += (actionListToUse[(int)(Math.random()*actionListToUse.length)] + " at " + outLocations[(int)(Math.random()*outLocations.length)]) + ".";
            
        }
        else
        {
            readout += (actions[(int)(Math.random()*actions.length)] + " in their room.");
        }
        
        return readout;
    }
    
    public void setOnElevator(boolean b)
    {
        isOnElevator = b;
        if (b == true)
        {
            setIsOut(b);
        }
    }
    
    public boolean getOnElevator()
    {
        return isOnElevator;
    }
    
    public String getName()
    {
        return name;
    }
    
    public int getStayTime()
    {
        return timeToStay;
    }
    
    public boolean getIsOut()
    {
        return isOut;
    }
    
    public void setIsOut( boolean b )
    {
        isOut = b;
    }
}